{"filter":false,"title":"forms.py","tooltip":"/univalle/home/forms.py","undoManager":{"mark":46,"position":46,"stack":[[{"start":{"row":120,"column":0},"end":{"row":158,"column":59},"action":"insert","lines":["class InscripcionesForm(forms.Form):","\tcedula = forms.IntegerField(label='Cédula',widget=forms.TextInput(attrs={'required': True,'type':\"number\",'class':\"form-control\",'placeholder':'Ingrese su Número de Cédula'}))","\tnombre = forms.CharField(label='Nombre',widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese su Nombre Completo'}))","\tapellido = forms.CharField(label='Apellido',widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese sus Apellidos'}))","\tsnp = forms.CharField(label='Número de Registro ICFES',widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese su número de Registro ICFES'}))","\tcolegio = forms.CharField(label='Colegio',widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese Nombre del Colegio'}))","\tref_pago = forms.IntegerField(label='Referencia de Pago',widget=forms.TextInput(attrs={'required': True,'type':\"number\", 'class':\"form-control\",'placeholder':'Ingrese referencia de pago'}))","\tprogramas_academicos= forms.ModelChoiceField(label='Seleccione la Carrera',widget=forms.Select(attrs={'required': True,'class':\"form-control\"}), queryset=programasAcademico.objects.all().order_by('nombre'))","","\t\t#validar si el número de cédula ya existe","\tdef clean_cedula(self):","\t\tcedula = self.cleaned_data['cedula']","\t\ttry:","\t\t\ti = inscripciones.objects.get(cedula=cedula)","\t\texcept inscripciones.DoesNotExist:","\t\t\treturn cedula #para que valide el formulario como si fuera correcto","\t\traise forms.ValidationError('Cédula ya existe')","\t\t","\t\t#validar si el número de registro icfes existe en el webservice","\tdef clean_snp(self):","\t\tsnp = self.cleaned_data['snp']","\t\tif snp:","\t\t\ticfes = requests.get('https://morning-brushlands-79611.herokuapp.com/v1/resultados/?codigo=%s&format=json' % snp)","\t\t\ticfes_json = icfes.json()","\t\t\tif icfes_json:","\t\t\t\treturn snp","\t\t\telse:","\t\t\t\traise forms.ValidationError('Número de Registro No existe')","\t\t\t\t","\t#validar si el numero de pago es valido en el microservicio\t\t\t","\tdef clean_ref_pago(self):","\t\tref_pago = self.cleaned_data['ref_pago']","\t\tif ref_pago:","\t\t\trespuesta = requests.get('http://ws-bank-julianrico.c9users.io/rest/consignacion/?cedula=%s&format=json' % ref_pago)","\t\t\trespuesta_json = respuesta.json()","\t\t\tif respuesta_json:","\t\t\t\treturn ref_pago","\t\t\telse:","\t\t\t\traise forms.ValidationError('Número de Pago No existe')"],"id":357}],[{"start":{"row":120,"column":18},"end":{"row":120,"column":19},"action":"remove","lines":["s"],"id":358}],[{"start":{"row":120,"column":17},"end":{"row":120,"column":18},"action":"remove","lines":["e"],"id":359}],[{"start":{"row":121,"column":29},"end":{"row":121,"column":43},"action":"remove","lines":["label='Cédula'"],"id":360}],[{"start":{"row":121,"column":29},"end":{"row":121,"column":30},"action":"remove","lines":[","],"id":361}],[{"start":{"row":122,"column":26},"end":{"row":122,"column":40},"action":"remove","lines":["label='Nombre'"],"id":362}],[{"start":{"row":122,"column":26},"end":{"row":122,"column":27},"action":"remove","lines":[","],"id":363}],[{"start":{"row":123,"column":28},"end":{"row":123,"column":45},"action":"remove","lines":["label='Apellido',"],"id":364}],[{"start":{"row":124,"column":23},"end":{"row":124,"column":56},"action":"remove","lines":["label='Número de Registro ICFES',"],"id":365}],[{"start":{"row":125,"column":27},"end":{"row":125,"column":43},"action":"remove","lines":["label='Colegio',"],"id":366}],[{"start":{"row":126,"column":31},"end":{"row":126,"column":58},"action":"remove","lines":["label='Referencia de Pago',"],"id":367}],[{"start":{"row":120,"column":0},"end":{"row":158,"column":59},"action":"remove","lines":["class InscripcionForm(forms.Form):","\tcedula = forms.IntegerField(widget=forms.TextInput(attrs={'required': True,'type':\"number\",'class':\"form-control\",'placeholder':'Ingrese su Número de Cédula'}))","\tnombre = forms.CharField(widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese su Nombre Completo'}))","\tapellido = forms.CharField(widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese sus Apellidos'}))","\tsnp = forms.CharField(widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese su número de Registro ICFES'}))","\tcolegio = forms.CharField(widget=forms.TextInput(attrs={'required': True,'type':\"text\", 'class':\"form-control\",'placeholder':'Ingrese Nombre del Colegio'}))","\tref_pago = forms.IntegerField(widget=forms.TextInput(attrs={'required': True,'type':\"number\", 'class':\"form-control\",'placeholder':'Ingrese referencia de pago'}))","\tprogramas_academicos= forms.ModelChoiceField(label='Seleccione la Carrera',widget=forms.Select(attrs={'required': True,'class':\"form-control\"}), queryset=programasAcademico.objects.all().order_by('nombre'))","","\t\t#validar si el número de cédula ya existe","\tdef clean_cedula(self):","\t\tcedula = self.cleaned_data['cedula']","\t\ttry:","\t\t\ti = inscripciones.objects.get(cedula=cedula)","\t\texcept inscripciones.DoesNotExist:","\t\t\treturn cedula #para que valide el formulario como si fuera correcto","\t\traise forms.ValidationError('Cédula ya existe')","\t\t","\t\t#validar si el número de registro icfes existe en el webservice","\tdef clean_snp(self):","\t\tsnp = self.cleaned_data['snp']","\t\tif snp:","\t\t\ticfes = requests.get('https://morning-brushlands-79611.herokuapp.com/v1/resultados/?codigo=%s&format=json' % snp)","\t\t\ticfes_json = icfes.json()","\t\t\tif icfes_json:","\t\t\t\treturn snp","\t\t\telse:","\t\t\t\traise forms.ValidationError('Número de Registro No existe')","\t\t\t\t","\t#validar si el numero de pago es valido en el microservicio\t\t\t","\tdef clean_ref_pago(self):","\t\tref_pago = self.cleaned_data['ref_pago']","\t\tif ref_pago:","\t\t\trespuesta = requests.get('http://ws-bank-julianrico.c9users.io/rest/consignacion/?cedula=%s&format=json' % ref_pago)","\t\t\trespuesta_json = respuesta.json()","\t\t\tif respuesta_json:","\t\t\t\treturn ref_pago","\t\t\telse:","\t\t\t\traise forms.ValidationError('Número de Pago No existe')"],"id":369}],[{"start":{"row":81,"column":103},"end":{"row":81,"column":104},"action":"insert","lines":["o"],"id":370}],[{"start":{"row":81,"column":103},"end":{"row":81,"column":104},"action":"remove","lines":["o"],"id":371}],[{"start":{"row":81,"column":103},"end":{"row":81,"column":105},"action":"insert","lines":["''"],"id":372}],[{"start":{"row":81,"column":104},"end":{"row":81,"column":105},"action":"insert","lines":["o"],"id":373}],[{"start":{"row":81,"column":105},"end":{"row":81,"column":106},"action":"insert","lines":["n"],"id":374}],[{"start":{"row":81,"column":106},"end":{"row":81,"column":107},"action":"insert","lines":["c"],"id":375}],[{"start":{"row":81,"column":106},"end":{"row":81,"column":107},"action":"remove","lines":["c"],"id":376}],[{"start":{"row":81,"column":106},"end":{"row":81,"column":107},"action":"insert","lines":["C"],"id":377}],[{"start":{"row":81,"column":107},"end":{"row":81,"column":108},"action":"insert","lines":["n"],"id":378}],[{"start":{"row":81,"column":107},"end":{"row":81,"column":108},"action":"remove","lines":["n"],"id":379}],[{"start":{"row":81,"column":107},"end":{"row":81,"column":108},"action":"insert","lines":["h"],"id":380}],[{"start":{"row":81,"column":108},"end":{"row":81,"column":109},"action":"insert","lines":["a"],"id":381}],[{"start":{"row":81,"column":109},"end":{"row":81,"column":110},"action":"insert","lines":["n"],"id":382}],[{"start":{"row":81,"column":110},"end":{"row":81,"column":111},"action":"insert","lines":["g"],"id":383}],[{"start":{"row":81,"column":111},"end":{"row":81,"column":112},"action":"insert","lines":["e"],"id":384}],[{"start":{"row":81,"column":113},"end":{"row":81,"column":114},"action":"insert","lines":[":"],"id":385}],[{"start":{"row":81,"column":114},"end":{"row":81,"column":115},"action":"insert","lines":[","],"id":386}],[{"start":{"row":81,"column":114},"end":{"row":81,"column":116},"action":"insert","lines":["''"],"id":387}],[{"start":{"row":81,"column":115},"end":{"row":81,"column":116},"action":"insert","lines":["i"],"id":388}],[{"start":{"row":81,"column":116},"end":{"row":81,"column":117},"action":"insert","lines":["c"],"id":389}],[{"start":{"row":81,"column":117},"end":{"row":81,"column":118},"action":"insert","lines":["f"],"id":390}],[{"start":{"row":81,"column":118},"end":{"row":81,"column":119},"action":"insert","lines":["e"],"id":391}],[{"start":{"row":81,"column":119},"end":{"row":81,"column":120},"action":"insert","lines":["s"],"id":392}],[{"start":{"row":81,"column":120},"end":{"row":81,"column":121},"action":"insert","lines":["("],"id":393}],[{"start":{"row":81,"column":121},"end":{"row":81,"column":122},"action":"insert","lines":[")"],"id":394}],[{"start":{"row":81,"column":123},"end":{"row":81,"column":124},"action":"insert","lines":[","],"id":395}],[{"start":{"row":81,"column":124},"end":{"row":81,"column":126},"action":"insert","lines":["''"],"id":396}],[{"start":{"row":81,"column":125},"end":{"row":81,"column":126},"action":"insert","lines":["i"],"id":397}],[{"start":{"row":81,"column":126},"end":{"row":81,"column":127},"action":"insert","lines":["d"],"id":398}],[{"start":{"row":81,"column":128},"end":{"row":81,"column":129},"action":"insert","lines":[":"],"id":399}],[{"start":{"row":81,"column":129},"end":{"row":81,"column":131},"action":"insert","lines":["''"],"id":400}],[{"start":{"row":81,"column":130},"end":{"row":81,"column":131},"action":"insert","lines":["s"],"id":401}],[{"start":{"row":81,"column":131},"end":{"row":81,"column":132},"action":"insert","lines":["n"],"id":402}],[{"start":{"row":81,"column":132},"end":{"row":81,"column":133},"action":"insert","lines":["p"],"id":403}],[{"start":{"row":81,"column":103},"end":{"row":81,"column":135},"action":"remove","lines":["'onChange':'icfes()','id':'snp',"],"id":404}]]},"ace":{"folds":[{"start":{"row":8,"column":30},"end":{"row":12,"column":155},"placeholder":"..."},{"start":{"row":14,"column":28},"end":{"row":16,"column":180},"placeholder":"..."},{"start":{"row":18,"column":31},"end":{"row":75,"column":57},"placeholder":"..."},{"start":{"row":77,"column":36},"end":{"row":115,"column":59},"placeholder":"..."},{"start":{"row":117,"column":32},"end":{"row":118,"column":179},"placeholder":"..."}],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":81,"column":103},"end":{"row":81,"column":103},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1480710153054,"hash":"bac7c49c3b6c50342d4a23ed5e67a4df1440e726"}